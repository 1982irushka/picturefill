/*! Picturefill - v3.0.0-alpha1 - 2015-06-17
* http://scottjehl.github.io/picturefill
* Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
!function(a,b,c){"use strict";function d(a){return" "===a||"	"===a||"\n"===a||"\f"===a||"\r"===a}function e(b,c){var d=new a.Image;return d.onerror=function(){E[b]=!1,fa()},d.onload=function(){E[b]=1===d.width,fa()},d.src=c,"pending"}function f(){var b;Q=!1,T=a.devicePixelRatio,R={},S={},b=(T||1)*F.xQuant,F.uT||(F.maxX=Math.max(1.3,F.maxX),b=Math.min(b,F.maxX),x.DPR=b),U.width=Math.max(a.innerWidth||0,D.clientWidth),U.height=Math.max(a.innerHeight||0,D.clientHeight),U.vw=U.width/100,U.vh=U.height/100,w=[U.height,U.width,b].join("-"),U.em=x.getEmValue(),U.rem=U.em,r=F.lazyFactor/2,r=r*b+r,o=.5+.2*b,p=.5+.25*b,(q=U.width>U.height)||(r*=.9),J&&(r*=.9)}function g(a,b,c){var d=b*Math.pow(a-.4,1.2);return q||(d/=1.3),a+=d,a>c}function h(a){var b,c=x.getSet(a),d=!1;"pending"!==c&&(d=w,c&&(b=x.setRes(c),x.applySetCandidate(b,a))),a[x.ns].evaled=d}function i(a,b){return a.res-b.res}function j(a,b,c){var d;return!c&&b&&(c=a[x.ns].sets,c=c&&c[c.length-1]),d=k(b,c),d&&(b=x.makeUrl(b),a[x.ns].curSrc=b,a[x.ns].curCan=d,d.res||ea(d,d.set.sizes)),d}function k(a,b){var c,d,e;if(a&&b)for(e=x.parseSet(b),a=x.makeUrl(a),c=0;c<e.length;c++)if(a===x.makeUrl(e[c].url)){d=e[c];break}return d}function l(a,b){var c,d,e,f,g=a.getElementsByTagName("source");for(c=0,d=g.length;d>c;c++)e=g[c],e[x.ns]=!0,f=e.getAttribute("srcset"),f&&b.push({srcset:f,media:e.getAttribute("media"),type:e.getAttribute("type"),sizes:e.getAttribute("sizes")})}function m(a,b){function c(b){var c,d=b.exec(a.substring(m));return d?(c=d[0],m+=c.length,c):void 0}function e(){var a,c,d,e,f,i,j,k,l,m=!1,o={};for(e=0;e<h.length;e++)f=h[e],i=f[f.length-1],j=f.substring(0,f.length-1),k=parseInt(j,10),l=parseFloat(j),_.test(j)&&"w"===i?((a||c)&&(m=!0),0===k?m=!0:a=k):aa.test(j)&&"x"===i?((a||c||d)&&(m=!0),0>l?m=!0:c=l):_.test(j)&&"h"===i?((d||c)&&(m=!0),0===k?m=!0:d=k):m=!0;m||(o.url=g,a&&(o.w=a),c&&(o.d=c),d&&(o.h=d),d||c||a||(o.d=1),1===o.d&&(b.has1x=!0),o.set=b,n.push(o))}function f(){for(c(X),i="",j="in descriptor";;){if(k=a.charAt(m),"in descriptor"===j)if(d(k))i&&(h.push(i),i="",j="after descriptor");else{if(","===k)return m+=1,i&&h.push(i),void e();if("("===k)i+=k,j="in parens";else{if(""===k)return i&&h.push(i),void e();i+=k}}else if("in parens"===j)if(")"===k)i+=k,j="in descriptor";else{if(""===k)return h.push(i),void e();i+=k}else if("after descriptor"===j)if(d(k));else{if(""===k)return void e();j="in descriptor",m-=1}m+=1}}for(var g,h,i,j,k,l=a.length,m=0,n=[];;){if(c(Y),m>=l)return n;g=c(Z),h=[],","===g.slice(-1)?(g=g.replace($,""),e()):f()}}function n(a){function b(a){function b(){g&&(h.push(g),g="")}function e(){h[0]&&(i.push(h),h=[])}for(var f,g="",h=[],i=[],j=0,k=0,l=!1;;){if(f=a[k],f===c)return b(),e(),i;if(l){if("*"===f&&"/"===a[k+1]){l=!1,k+=2,b();continue}k+=1}else{if(d(f)){if(a[k-1]&&d(a[k-1])||!g){k+=1;continue}if(0===j){b(),k+=1;continue}f=" "}else if("("===f)j+=1;else if(")"===f)j-=1;else{if(","===f){b(),e(),k+=1;continue}if("/"===f&&"*"===a[k+1]){l=!0,k+=2;continue}}g+=f,k+=1}}}function e(a){return l.test(a)&&parseFloat(a)>=0?!0:m.test(a)?!0:"0"===a||"-0"===a||"+0"===a?!0:!1}var f,g,h,i,j,k,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,m=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(g=b(a),h=g.length,f=0;h>f;f++)if(i=g[f],j=i[i.length-1],e(j)){if(k=j,i.pop(),0===i.length)return k;if(i=i.join(" "),x.matchesMedia(i))return k}return"100vw"}b.createElement("picture");var o,p,q,r,s,t,u,v,w,x={},y=function(){},z=b.createElement("img"),A=z.getAttribute,B=z.setAttribute,C=z.removeAttribute,D=b.documentElement,E={},F={xQuant:1,lazyFactor:.3,maxX:4},G="data-pfsrc",H=G+"set",I=navigator.userAgent,J=/rident/.test(I)||/ecko/.test(I)&&I.match(/rv\:(\d+)/)&&RegExp.$1>35,K="currentSrc",L=/\s+\+?\d+(e\d+)?w/,M=/(\([^)]+\))?\s*(.+)/,N=a.picturefillCFG,O="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",P="font-size:100%!important;",Q=!0,R={},S={},T=a.devicePixelRatio,U={px:1,"in":96},V=b.createElement("a"),W=!1,X=/^[ \t\n\r\u000c]+/,Y=/^[, \t\n\r\u000c]+/,Z=/^[^ \t\n\r\u000c]+/,$=/[,]+$/,_=/^\d+$/,aa=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,ba=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)},ca=function(a){var b={};return function(c){return c in b||(b[c]=a(c)),b[c]}},da=function(){var a=/^([\d\.]+)(em|vw|px)$/,b=function(){for(var a=arguments,b=0,c=a[0];++b in a;)c=c.replace(a[b],a[++b]);return c},c=ca(function(a){return"return "+b((a||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(b,d){var e;if(!(b in R))if(R[b]=!1,d&&(e=b.match(a)))R[b]=e[1]*U[e[2]];else try{R[b]=new Function("e",c(b))(U)}catch(f){}return R[b]}}(),ea=function(a,b){return a.w?(a.cWidth=x.calcListLength(b||"100vw"),a.res=a.w/a.cWidth):a.res=a.d,a},fa=function(a){var c,d,e,f=a||{};if(f.elements&&1===f.elements.nodeType&&("IMG"===f.elements.nodeName.toUpperCase()?f.elements=[f.elements]:(f.context=f.elements,f.elements=null)),c=f.elements||x.qsa(f.context||b,f.reevaluate||f.reselect?x.sel:x.selShort),e=c.length){for(x.setupRun(f),W=!0,d=0;e>d;d++)x.fillImg(c[d],f);x.teardownRun(f)}};s=a.console&&console.warn?function(a){console.warn(a)}:y,K in z||(K="src"),E["image/jpeg"]=!0,E["image/gif"]=!0,E["image/png"]=!0,E["image/svg+xml"]=b.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),E["image/webp"]=e("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="),x.ns=("pf"+(new Date).getTime()).substr(0,9),x.supSrcset="srcset"in z,x.supSizes="sizes"in z,x.selShort="picture>img,img[srcset]",x.sel=x.selShort,x.cfg=F,x.supSrcset&&(x.sel+=",img["+H+"]"),x.DPR=T||1,x.u=U,x.types=E,u=x.supSrcset&&!x.supSizes,x.setSize=y,x.makeUrl=ca(function(a){return V.href=a,V.href}),x.qsa=function(a,b){return a.querySelectorAll(b)},x.matchesMedia=function(){return a.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?x.matchesMedia=function(a){return!a||matchMedia(a).matches}:x.matchesMedia=x.mMQ,x.matchesMedia.apply(this,arguments)},x.mMQ=function(a){return a?da(a):!0},x.calcLength=function(a){var b=da(a,!0)||!1;return 0>b&&(b=!1),b},x.supportsType=function(a){return a?E[a]:!0},x.parseSize=ca(function(a){var b=(a||"").match(M);return{media:b&&b[1],length:b&&b[2]}}),x.parseSet=function(a){return a.cands||(a.cands=m(a.srcset,a)),a.cands},x.getEmValue=function(){var a;if(!t&&(a=b.body)){var c=b.createElement("div"),d=D.style.cssText,e=a.style.cssText;c.style.cssText=O,D.style.cssText=P,a.style.cssText=P,a.appendChild(c),t=c.offsetWidth,a.removeChild(c),t=parseFloat(t,10),D.style.cssText=d,a.style.cssText=e}return t||16},x.calcListLength=function(a){if(!(a in S)||F.uT){var b=x.calcLength(n(a));S[a]=b?b:U.width}return S[a]},x.setRes=function(a){var b;if(a){b=x.parseSet(a);for(var c=0,d=b.length;d>c;c++)ea(b[c],a.sizes)}return b},x.setRes.res=ea,x.applySetCandidate=function(a,b){if(a.length){var c,d,e,f,h,k,l,m,n,q,s,t,u=b[x.ns],v=x.DPR,w=.2+.1*v;if(l=u.curSrc||b[K],m=u.curCan||j(b,l,a[0].set),s=m&&m.res,l&&(t=J&&!b.complete&&m&&s>v,t||(m&&v>s&&s>o&&(p>s&&(w+=.1*v),m.res+=r*(s-w)),n=!u.pic||m&&m.set===a[0].set,m&&n&&m.res>=v&&(k=m))),!k)for(s&&(m.res=m.res-(m.res-s)/2),a.sort(i),h=a.length,k=a[h-1],d=0;h>d;d++)if(c=a[d],c.res>=v){e=d-1,k=a[e]&&(f=c.res-v)&&(t||l!==x.makeUrl(c.url))&&g(a[e].res,f,v)?a[e]:c;break}s&&(m.res=s),k&&(q=x.makeUrl(k.url),u.curSrc=q,u.curCan=k,q!==l&&x.setSrc(b,k),x.setSize(b))}},x.setSrc=function(a,b){var c;a.src=b.url,"image/svg+xml"===b.set.type&&(c=a.style.width,a.style.width=a.offsetWidth+1+"px",a.offsetWidth+1&&(a.style.width=c))},x.getSet=function(a){var b,c,d,e=!1,f=a[x.ns].sets;for(b=0;b<f.length&&!e;b++)if(c=f[b],c.srcset&&x.matchesMedia(c.media)&&(d=x.supportsType(c.type))){"pending"===d&&(c=d),e=c;break}return e},x.parseSets=function(a,b){var d,e,f,g,h=b&&"PICTURE"===b.nodeName.toUpperCase(),i=a[x.ns];i.src===c&&(i.src=A.call(a,"src"),i.src?B.call(a,G,i.src):C.call(a,G)),i.srcset===c&&(d=A.call(a,"srcset"),i.srcset=d,g=!0),i.sets=[],h&&(i.pic=!0,l(b,i.sets)),i.srcset?(e={srcset:i.srcset,sizes:A.call(a,"sizes")},i.sets.push(e),f=(u||i.src)&&L.test(i.srcset||""),f||!i.src||k(i.src,e)||e.has1x||(e.srcset+=", "+i.src,e.cands.push({url:i.src,d:1,set:e}))):i.src&&i.sets.push({srcset:i.src,sizes:null}),i.curCan=null,i.supported=!(h||e&&!x.supSrcset||f),g&&x.supSrcset&&!i.supported&&(d?(B.call(a,H,d),a.srcset=""):C.call(a,H)),i.supported&&!i.srcset&&(!i.src&&a.src||a.src!==x.makeUrl(i.src))&&(null===i.src?a.removeAttribute("src"):a.src=i.src),i.parsed=!0},x.fillImg=function(a,b){var c,d=b.reselect||b.reevaluate;a[x.ns]||(a[x.ns]={}),c=a[x.ns],(d||c.evaled!==w)&&((!c.parsed||b.reevaluate)&&x.parseSets(a,a.parentNode,b),c.supported?c.evaled=w:h(a))},x.setupRun=function(b){(!W||Q||T!==a.devicePixelRatio)&&(f(),b.elements||b.context||clearTimeout(v))},a.HTMLPictureElement?(fa=y,x.fillImg=y):!function(){var c,d=a.attachEvent?/d$|^c/:/d$|^c|^i/,e=function(){var a=b.readyState||"";h=setTimeout(e,"loading"===a?200:999),b.body&&(x.fillImgs(),c=c||d.test(a),c&&clearTimeout(h))},f=function(){x.fillImgs()},g=function(){clearTimeout(v),Q=!0,v=setTimeout(f,99)},h=setTimeout(e,b.body?9:99);ba(a,"resize",g),ba(b,"readystatechange",e)}(),x.picturefill=fa,x.fillImgs=fa,x.teardownRun=y,fa._=x,a.picturefillCFG={ri:x,push:function(a){var b=a.shift();"function"==typeof x[b]?x[b].apply(x,a):(F[b]=a[0],W&&x.fillImgs({reselect:!0}))}};for(;N&&N.length;)a.picturefillCFG.push(N.shift());a.picturefill=fa,"object"==typeof module&&"object"==typeof module.exports?module.exports=fa:"function"==typeof define&&define.amd&&define("picturefill",function(){return fa})}(window,document);