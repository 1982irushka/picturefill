/*! Picturefill - v2.0.0 - 2014-03-24
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)}),a._matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},a._getDpr=function(){return window.devicePixelRatio||1};var c;a._getCachedLengthEl=function(){return c=c||document.createElement("div"),b.body?(b.body.appendChild(c),c):void 0},a._getWidthFromLength=function(b){var c=a._getCachedLengthEl();return c.style.cssText="width: "+b+";",c.offsetWidth},a._findWidthFromSourceSize=function(b){for(var c,d=b.trim().split(/\s*,\s*/),e=0,f=d.length;f>e;e++){var g=d[e],h=/(\([^)]+\))?\s*([^\s]+)/g.exec(g);if(h){var i,j=h[2];if(!h[1]){c=j;break}if(i=h[1],a._matchesMedia(i)){c=j;break}}}if(!c)return 300;var k=a._getWidthFromLength(c);return k},a._getCandidatesFromSourceSet=function(b,c){var d=b.trim().split(/\s*,\s*/),e=[];if(c)var f=a._findWidthFromSourceSize(c);for(var g=0,h=d.length;h>g;g++){var i,j=d[g],k=j.split(/\s+/),l=k[1];!l||"w"!==l.slice(-1)&&"x"!==l.slice(-1)||(l=l.slice(0,-1)),i=c?parseFloat((parseInt(l,10)/f).toFixed(2)):l?parseFloat(l,10):a._getDpr();var m={url:k[0],resolution:i};e.push(m)}return e},a.picturefill=function(){var c=b.getElementsByTagName("picture");c=c.length?c:b.getElementsByTagName("span");for(var d=0,e=c.length;e>d;d++){var f=c[d];if("PICTURE"===f.nodeName||null!==f.getAttribute("data-picture")){var g=[],h=f.getElementsByTagName("video");if(h.length>0){var i=h[0],j=i.getElementsByTagName("source");for(j=j.length?j:b.getElementsByTagName("span");j.length>0;)f.appendChild(j[0]);i.parentNode.removeChild(i)}var k=f.getElementsByTagName("source");k=k.length?k:b.getElementsByTagName("span");for(var l=0,m=k.length;m>l;l++){var n=k[l];if("SOURCE"===n.nodeName||"SPAN"===n.nodeName){var o=k[l].getAttribute("media");n.hasAttribute("srcset")&&(!o||a._matchesMedia(o))&&g.push(n)}}var p=f.getElementsByTagName("img")[0];if(g.length){var q=g.pop();p&&"NOSCRIPT"!==p.parentNode.nodeName||(p=b.createElement("img"),f.hasAttribute("alt")&&(p.alt=f.getAttribute("alt")),f.hasAttribute("title")&&(p.title=f.getAttribute("title")));var r,s=q.getAttribute("srcset");if(q.hasAttribute("sizes")){var t=q.getAttribute("sizes");r=a._getCandidatesFromSourceSet(s,t)}else r=a._getCandidatesFromSourceSet(s);for(var u=r.sort(function(a,b){return a.resolution>b.resolution}),l=0;l<u.length;l++){var v=u[l];if(v.resolution>=a._getDpr()){p.src.endsWith(v.url)||(p.src=v.url);break}}!p.src&&p.hasAttribute("data-src")&&(p.src=p.getAttribute("data-src")),q.appendChild(p)}}}};var d=function(){a.picturefill();var c=setInterval(function(){return a.picturefill(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(c):void 0},250);a.addEventListener("resize",a.picturefill,!1)};d()}(this,document);